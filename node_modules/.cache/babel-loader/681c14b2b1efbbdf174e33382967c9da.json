{"remainingRequest":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js!/home/huyu0408/FM/vue-musicplayer/src/store/index.js","dependencies":[{"path":"/home/huyu0408/FM/vue-musicplayer/src/store/index.js","mtime":1735297299328},{"path":"/home/huyu0408/FM/vue-musicplayer/babel.config.js","mtime":1734934208433},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/cache-loader/dist/cjs.js","mtime":1734925316076},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js","mtime":1734925316099}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5zb21lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBhdWRpbzogbmV3IEF1ZGlvKCksCiAgICAvLyDlvZPliY3mraPlnKjmkq3mlL7nmoRhdWRpbwogICAgaXNQbGF5aW5nOiBmYWxzZSwKICAgIGxvY2FsU29uZ3M6IFtdLAogICAgLy8g5pys5Zyw5q2M5puy5YiX6KGoCiAgICBwbGF5aW5nU29uZ3M6IFtdLAogICAgLy8g5q2j5Zyo5pKt5pS+55qE5q2M5puy5YiX6KGoCiAgICBwbGF5ZWRTb25nczogW10sCiAgICAvLyDmnIDov5Hmkq3mlL7nmoTmrYzmm7LliJfooagKICAgIGluZGV4OiAtMSAvLyDmraPlnKjmkq3mlL7nmoTmrYzmm7LntKLlvJUKICB9LAogIGdldHRlcnM6IHsKICAgIGlzUGxheWluZzogc3RhdGUgPT4gc3RhdGUuaXNQbGF5aW5nLAogICAgbG9jYWxTb25nczogc3RhdGUgPT4gc3RhdGUubG9jYWxTb25ncywKICAgIHBsYXlpbmdTb25nczogc3RhdGUgPT4gc3RhdGUucGxheWluZ1NvbmdzLAogICAgcGxheWVkU29uZ3M6IHN0YXRlID0+IHN0YXRlLnBsYXllZFNvbmdzLAogICAgaW5kZXg6IHN0YXRlID0+IHN0YXRlLmluZGV4CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGhhbmRsZVBsYXlpbmcoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNQbGF5aW5nID8gc3RhdGUuYXVkaW8ucGF1c2UoKSA6IHN0YXRlLmF1ZGlvLnBsYXkoKTsKICAgICAgc3RhdGUuaXNQbGF5aW5nID0gIXN0YXRlLmlzUGxheWluZzsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWQoc3RhdGUsIGZpbGVzbGlzdCkgewogICAgICBzdGF0ZS5sb2NhbFNvbmdzID0gZmlsZXNsaXN0OwogICAgfSwKICAgIGhhbmRsZVBsYXkoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNQbGF5aW5nID8gc3RhdGUuYXVkaW8ucGF1c2UoKSA6IHN0YXRlLmF1ZGlvLnBsYXkoKTsKICAgICAgc3RhdGUuaXNQbGF5aW5nID0gIXN0YXRlLmlzUGxheWluZzsKICAgIH0sCiAgICBoYW5kbGVDbGlja1Nvbmcoc3RhdGUsIHsKICAgICAgaW5kZXgsCiAgICAgIGF1ZGlvLAogICAgICBuYW1lCiAgICB9KSB7CiAgICAgIHN0YXRlLmF1ZGlvLmxvYWQoKTsgLy8g5YGc5q2i5b2T5YmN6Z+z6aKRCiAgICAgIHN0YXRlLmF1ZGlvID0gYXVkaW87IC8vIOabv+aNouW9k+WJjemfs+mikQogICAgICBzdGF0ZS5pbmRleCA9IGluZGV4OyAvLyDmm7/mjaLlvZPliY3ntKLlvJUKICAgICAgc3RhdGUuaXNQbGF5aW5nID0gdHJ1ZTsgLy8g5pu05pS55pKt5pS+54q25oCBCiAgICAgIHN0YXRlLmF1ZGlvLnBsYXkoKTsKICAgICAgLy8g5bCG5b2T5YmN5q2M5puy5re75Yqg5Yiw5pyA6L+R5pKt5pS+55qE5q2M5puy5YiX6KGoCiAgICAgIHN0YXRlLnBsYXllZFNvbmdzLnB1c2goewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgYXVkaW8KICAgICAgfSk7IC8vIOacgOi/keaSreaUvumfs+S5kAogICAgICAvLyDlpoLmnpzmrYzmm7LkuI3lnKjmraPlnKjmkq3mlL7liJfooajkuK3vvIzliqDlhaXliLDmkq3mlL7liJfooagKICAgICAgaWYgKCFzdGF0ZS5wbGF5aW5nU29uZ3Muc29tZShzb25nID0+IHNvbmcubmFtZSA9PT0gbmFtZSkpIHsKICAgICAgICAvLyDmraPlnKjmkq3mlL7pn7PkuZAKICAgICAgICBzdGF0ZS5wbGF5aW5nU29uZ3MucHVzaCh7CiAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgYXVkaW8KICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5pbmRleCA9IHN0YXRlLmluZGV4ICsgMTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaGFuZGxlUGxheWluZyh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBjb21taXQoImhhbmRsZVBsYXlpbmciKTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWQoewogICAgICBjb21taXQKICAgIH0sIGZpbGVzbGlzdCkgewogICAgICBjb21taXQoImhhbmRsZVVwbG9hZCIsIGZpbGVzbGlzdCk7CiAgICB9LAogICAgaGFuZGxlUGxheSh7CiAgICAgIGNvbW1pdAogICAgfSkgewogICAgICBjb21taXQoImhhbmRsZVBsYXkiKTsKICAgIH0sCiAgICBoYW5kbGVDbGlja1NvbmcoewogICAgICBjb21taXQKICAgIH0sIHsKICAgICAgaW5kZXgsCiAgICAgIGF1ZGlvLAogICAgICBuYW1lCiAgICB9KSB7CiAgICAgIGNvbW1pdCgiaGFuZGxlQ2xpY2tTb25nIiwgewogICAgICAgIGluZGV4LAogICAgICAgIGF1ZGlvLAogICAgICAgIG5hbWUKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"names":["Vue","Vuex","use","Store","state","audio","Audio","isPlaying","localSongs","playingSongs","playedSongs","index","getters","mutations","handlePlaying","pause","play","handleUpload","fileslist","handlePlay","handleClickSong","name","load","push","some","song","actions","commit"],"sources":["/home/huyu0408/FM/vue-musicplayer/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    audio: new Audio(), // 当前正在播放的audio\n    isPlaying: false,\n    localSongs: [], // 本地歌曲列表\n    playingSongs: [], // 正在播放的歌曲列表\n    playedSongs: [], // 最近播放的歌曲列表\n    index: -1, // 正在播放的歌曲索引\n  },\n  getters: {\n    isPlaying: (state) => state.isPlaying,\n    localSongs: (state) => state.localSongs,\n    playingSongs: (state) => state.playingSongs,\n    playedSongs: (state) => state.playedSongs,\n    index: (state) => state.index,\n  },\n  mutations: {\n    handlePlaying(state) {\n      state.isPlaying ? state.audio.pause() : state.audio.play();\n      state.isPlaying = !state.isPlaying;\n    },\n    handleUpload(state, fileslist) {\n      state.localSongs = fileslist;\n    },\n    handlePlay(state) {\n      state.isPlaying ? state.audio.pause() : state.audio.play();\n      state.isPlaying = !state.isPlaying;\n    },\n    handleClickSong(state, { index, audio, name }) {\n      state.audio.load(); // 停止当前音频\n      state.audio = audio; // 替换当前音频\n      state.index = index; // 替换当前索引\n      state.isPlaying = true; // 更改播放状态\n      state.audio.play();\n      // 将当前歌曲添加到最近播放的歌曲列表\n      state.playedSongs.push({ name: name, audio }); // 最近播放音乐\n      // 如果歌曲不在正在播放列表中，加入到播放列表\n      if (!state.playingSongs.some((song) => song.name === name)) {\n        // 正在播放音乐\n        state.playingSongs.push({ name: name, audio });\n        state.index = state.index + 1;\n      }\n    },\n  },\n  actions: {\n    handlePlaying({ commit }) {\n      commit(\"handlePlaying\");\n    },\n    handleUpload({ commit }, fileslist) {\n      commit(\"handleUpload\", fileslist);\n    },\n    handlePlay({ commit }) {\n      commit(\"handlePlay\");\n    },\n    handleClickSong({ commit }, { index, audio, name }) {\n      commit(\"handleClickSong\", { index, audio, name });\n    },\n  },\n});\n"],"mappings":"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","ignoreList":[]}]}