{"remainingRequest":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js!/home/huyu0408/FM/vue-musicplayer/src/api/musicApi.js","dependencies":[{"path":"/home/huyu0408/FM/vue-musicplayer/src/api/musicApi.js","mtime":1735395937354},{"path":"/home/huyu0408/FM/vue-musicplayer/babel.config.js","mtime":1734934208433},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/cache-loader/dist/cjs.js","mtime":1734925316076},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js","mtime":1734925316099}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovLyBhcGkvbXVzaWNBcGkuanMKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAiZmlsZS1zYXZlciI7Ci8vIOWQjuerr+aOpeWPo1VSTApjb25zdCBBUElfVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4NCI7CgovLyDkuIrkvKB0eHTmlofku7bliLDlkI7nq68KZXhwb3J0IGNvbnN0IHVwbG9hZFR4dEZpbGUgPSBhc3luYyBmaWxlID0+IHsKICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGZpbGUpOwogIHRyeSB7CiAgICBjb25zb2xlLmxvZygi5bGV56S65YaF5a65Iik7CiAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKTsKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfVVJMfS91cGxvYWQtdHh0YCwgZm9ybURhdGEsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5lcnJvcigi5LiK5Lyg5aSx6LSlIiwgZXJyb3IpOwogICAgdGhyb3cgZXJyb3I7CiAgfQp9OwoKLy8g5LiL6L29IE1QMyDmlofku7YKZXhwb3J0IGNvbnN0IGRvd25sb2FkTXAzRmlsZSA9IGFzeW5jICgpID0+IHsKICB0cnkgewogICAgLy8g6K+35rGCIE1QMyDmlofku7bnmoTlkI7nq6/mjqXlj6PvvIzorr7nva4gcmVzcG9uc2VUeXBlIOS4uiAnYmxvYicKICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9VUkx9L2Rvd25sb2FkLW1wM2AsIHsKICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIKICAgIH0pOwoKICAgIC8vIOS9v+eUqCBGaWxlU2F2ZXIuanMg5bCG5paH5Lu25L+d5a2Y5Yiw5pys5ZywCiAgICBjb25zdCBmaWxlTmFtZSA9ICJzb25nLm1wMyI7IC8vIOS9oOWPr+S7peagueaNruWunumZheaDheWGteWKqOaAgeiuvue9ruaWh+S7tuWQjQogICAgc2F2ZUFzKHJlc3BvbnNlLmRhdGEsIGZpbGVOYW1lKTsKICAgIHJldHVybiAiTVAzIOaWh+S7tuS4i+i9veaIkOWKn++8gSI7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoIuS4i+i9veWksei0pSIsIGVycm9yKTsKICAgIHRocm93IG5ldyBFcnJvcigi5LiL6L295aSx6LSl77yM6K+36YeN6K+VIik7CiAgfQp9Ow=="},{"version":3,"names":["axios","saveAs","API_URL","uploadTxtFile","file","formData","FormData","append","console","log","response","post","headers","data","error","downloadMp3File","get","responseType","fileName","Error"],"sources":["/home/huyu0408/FM/vue-musicplayer/src/api/musicApi.js"],"sourcesContent":["// api/musicApi.js\nimport axios from \"axios\";\nimport { saveAs } from \"file-saver\";\n// 后端接口URL\nconst API_URL = \"http://localhost:8084\";\n\n// 上传txt文件到后端\nexport const uploadTxtFile = async (file) => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  try {\n    console.log(\"展示内容\");\n    console.log(file);\n    console.log(formData);\n    const response = await axios.post(`${API_URL}/upload-txt`, formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"上传失败\", error);\n    throw error;\n  }\n};\n\n// 下载 MP3 文件\nexport const downloadMp3File = async () => {\n  try {\n    // 请求 MP3 文件的后端接口，设置 responseType 为 'blob'\n    const response = await axios.get(`${API_URL}/download-mp3`, {\n      responseType: \"blob\",\n    });\n\n    // 使用 FileSaver.js 将文件保存到本地\n    const fileName = \"song.mp3\"; // 你可以根据实际情况动态设置文件名\n    saveAs(response.data, fileName);\n\n    return \"MP3 文件下载成功！\";\n  } catch (error) {\n    console.error(\"下载失败\", error);\n    throw new Error(\"下载失败，请重试\");\n  }\n};\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,YAAY;AACnC;AACA,MAAMC,OAAO,GAAG,uBAAuB;;AAEvC;AACA,OAAO,MAAMC,aAAa,GAAG,MAAOC,IAAI,IAAK;EAC3C,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAE7B,IAAI;IACFI,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnBD,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACjBI,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;IACrB,MAAMK,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAGT,OAAO,aAAa,EAAEG,QAAQ,EAAE;MACnEO,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,OAAOF,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;IAC5B,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,IAAI;IACF;IACA,MAAML,QAAQ,GAAG,MAAMV,KAAK,CAACgB,GAAG,CAAC,GAAGd,OAAO,eAAe,EAAE;MAC1De,YAAY,EAAE;IAChB,CAAC,CAAC;;IAEF;IACA,MAAMC,QAAQ,GAAG,UAAU,CAAC,CAAC;IAC7BjB,MAAM,CAACS,QAAQ,CAACG,IAAI,EAAEK,QAAQ,CAAC;IAE/B,OAAO,aAAa;EACtB,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAAC,MAAM,EAAEA,KAAK,CAAC;IAC5B,MAAM,IAAIK,KAAK,CAAC,UAAU,CAAC;EAC7B;AACF,CAAC","ignoreList":[]}]}