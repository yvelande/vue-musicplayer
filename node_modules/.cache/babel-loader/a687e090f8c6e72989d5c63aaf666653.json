{"remainingRequest":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js!/home/huyu0408/FM/vue-musicplayer/src/utils/index.js","dependencies":[{"path":"/home/huyu0408/FM/vue-musicplayer/src/utils/index.js","mtime":1735299333194},{"path":"/home/huyu0408/FM/vue-musicplayer/babel.config.js","mtime":1734934208433},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/cache-loader/dist/cjs.js","mtime":1734925316076},{"path":"/home/huyu0408/FM/vue-musicplayer/node_modules/babel-loader/lib/index.js","mtime":1734925316099}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5kZWxldGUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuaGFzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLnNpemUuanMiOwpleHBvcnQgY29uc3QgdXBsb2FkRmlsZXMgPSBhc3luYyAoKSA9PiB7CiAgY29uc3Qgc29uZ3MgPSBbXTsKICBjb25zdCBtdXNpY3NGaWx0ZXIgPSBbIm1wMyIsICJmbGFjIiwgImFhYyIsICJhcGUiXTsKICAvLyDkvb/nlKggRmlsZSBTeXN0ZW0gQWNjZXNzIEFQSSDorqnnlKjmiLfpgInmi6nkuIDkuKrnm67lvZUKICBjb25zdCBkaXJIYW5kbGUgPSBhd2FpdCB3aW5kb3cuc2hvd0RpcmVjdG9yeVBpY2tlcigpOwogIC8vIOmBjeWOhuebruW9leS4reeahOaJgOacieadoeebru+8iOaWh+S7tuaIluaWh+S7tuWkue+8iQogIGZvciBhd2FpdCAoY29uc3QgZW50cnkgb2YgZGlySGFuZGxlLnZhbHVlcygpKSB7CiAgICAvLyDojrflj5bmlofku7bnmoTmianlsZXlkI3vvIjkvovlpoIgJ21wMyfvvIwnZmxhYyfvvIkKICAgIGNvbnN0IGV4dGVuc2lvbk5hbWUgPSBlbnRyeS5uYW1lLnNwbGl0KCIuIilbMV07CiAgICAvLyDmo4Dmn6XmnaHnm67mmK/lkKbkuLrmlofku7bvvIzlubbkuJTmianlsZXlkI3mmK/lkKbnrKblkIjmnaHku7YKICAgIGlmIChlbnRyeS5raW5kID09PSAiZmlsZSIgJiYgbXVzaWNzRmlsdGVyLmluY2x1ZGVzKGV4dGVuc2lvbk5hbWUpKSB7CiAgICAgIGxldCB1cmwgPSAiIjsKICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IGVudHJ5LmdldEZpbGUoKTsKICAgICAgLy8g5qC55o2u5rWP6KeI5Zmo57G75Z6L5Yib5bu65LiA5Liq5paH5Lu255qEVVJMCiAgICAgIGlmICh3aW5kb3cuY3JlYXRlT2JqZWN0VVJMICE9IHVuZGVmaW5lZCkgewogICAgICAgIC8vIOmAgueUqOS6juWfuuacrOa1j+iniOWZqAogICAgICAgIC8vIGJhc2ljCiAgICAgICAgdXJsID0gd2luZG93LmNyZWF0ZU9iamVjdFVSTChmaWxlKTsKICAgICAgfSBlbHNlIGlmICh3aW5kb3cud2Via2l0VVJMICE9IHVuZGVmaW5lZCkgewogICAgICAgIC8vIOmAgueUqOS6jiBXZWJLaXQg5oiWIENocm9tZSDmtY/op4jlmagKICAgICAgICAvLyB3ZWJraXQgb3IgY2hyb21lCiAgICAgICAgdXJsID0gd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0gZWxzZSBpZiAod2luZG93LlVSTCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAvLyDpgILnlKjkuo4gRmlyZWZveCDmtY/op4jlmagKICAgICAgICAvLyBtb3ppbGxhKGZpcmVmb3gpCiAgICAgICAgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0KICAgICAgLy8g5bCG5paH5Lu255qE5ZCN56ew5ZKM6Z+z6aKR5a+56LGh5re75Yqg5YiwIHNvbmdzIOaVsOe7hAogICAgICBzb25ncy5wdXNoKHsKICAgICAgICBuYW1lOiBlbnRyeS5uYW1lLAogICAgICAgIGF1ZGlvOiBuZXcgQXVkaW8odXJsKQogICAgICB9KTsKICAgICAgLy8gICDpgJrov4fov5nkupvmlrnms5Xlj6/ku6XlsIbmlofku7blr7nosaHovazmjaLmiJDkuIDkuKrlj6/ku6XlnKjnvZHpobXkuK3kvb/nlKjnmoQgVVJM77yM5Lul5L6/5pKt5pS+6Z+z6aKR44CCCiAgICB9CiAgfQogIHJldHVybiBzb25nczsKfTs="},{"version":3,"names":["uploadFiles","songs","musicsFilter","dirHandle","window","showDirectoryPicker","entry","values","extensionName","name","split","kind","includes","url","file","getFile","createObjectURL","undefined","webkitURL","URL","push","audio","Audio"],"sources":["/home/huyu0408/FM/vue-musicplayer/src/utils/index.js"],"sourcesContent":["export const uploadFiles = async () => {\r\n  const songs = [];\r\n  const musicsFilter = [\"mp3\", \"flac\", \"aac\", \"ape\"];\r\n  // 使用 File System Access API 让用户选择一个目录\r\n  const dirHandle = await window.showDirectoryPicker();\r\n  // 遍历目录中的所有条目（文件或文件夹）\r\n  for await (const entry of dirHandle.values()) {\r\n    // 获取文件的扩展名（例如 'mp3'，'flac'）\r\n    const extensionName = entry.name.split(\".\")[1];\r\n    // 检查条目是否为文件，并且扩展名是否符合条件\r\n    if (entry.kind === \"file\" && musicsFilter.includes(extensionName)) {\r\n      let url = \"\";\r\n      const file = await entry.getFile();\r\n      // 根据浏览器类型创建一个文件的URL\r\n      if (window.createObjectURL != undefined) {\r\n        // 适用于基本浏览器\r\n        // basic\r\n        url = window.createObjectURL(file);\r\n      } else if (window.webkitURL != undefined) {\r\n        // 适用于 WebKit 或 Chrome 浏览器\r\n        // webkit or chrome\r\n        url = window.webkitURL.createObjectURL(file);\r\n      } else if (window.URL != undefined) {\r\n        // 适用于 Firefox 浏览器\r\n        // mozilla(firefox)\r\n        url = window.URL.createObjectURL(file);\r\n      }\r\n      // 将文件的名称和音频对象添加到 songs 数组\r\n      songs.push({ name: entry.name, audio: new Audio(url) });\r\n      //   通过这些方法可以将文件对象转换成一个可以在网页中使用的 URL，以便播放音频。\r\n    }\r\n  }\r\n  return songs;\r\n};\r\n"],"mappings":";;;;AAAA,OAAO,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,MAAMC,KAAK,GAAG,EAAE;EAChB,MAAMC,YAAY,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC;EAClD;EACA,MAAMC,SAAS,GAAG,MAAMC,MAAM,CAACC,mBAAmB,CAAC,CAAC;EACpD;EACA,WAAW,MAAMC,KAAK,IAAIH,SAAS,CAACI,MAAM,CAAC,CAAC,EAAE;IAC5C;IACA,MAAMC,aAAa,GAAGF,KAAK,CAACG,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IAC9C;IACA,IAAIJ,KAAK,CAACK,IAAI,KAAK,MAAM,IAAIT,YAAY,CAACU,QAAQ,CAACJ,aAAa,CAAC,EAAE;MACjE,IAAIK,GAAG,GAAG,EAAE;MACZ,MAAMC,IAAI,GAAG,MAAMR,KAAK,CAACS,OAAO,CAAC,CAAC;MAClC;MACA,IAAIX,MAAM,CAACY,eAAe,IAAIC,SAAS,EAAE;QACvC;QACA;QACAJ,GAAG,GAAGT,MAAM,CAACY,eAAe,CAACF,IAAI,CAAC;MACpC,CAAC,MAAM,IAAIV,MAAM,CAACc,SAAS,IAAID,SAAS,EAAE;QACxC;QACA;QACAJ,GAAG,GAAGT,MAAM,CAACc,SAAS,CAACF,eAAe,CAACF,IAAI,CAAC;MAC9C,CAAC,MAAM,IAAIV,MAAM,CAACe,GAAG,IAAIF,SAAS,EAAE;QAClC;QACA;QACAJ,GAAG,GAAGT,MAAM,CAACe,GAAG,CAACH,eAAe,CAACF,IAAI,CAAC;MACxC;MACA;MACAb,KAAK,CAACmB,IAAI,CAAC;QAAEX,IAAI,EAAEH,KAAK,CAACG,IAAI;QAAEY,KAAK,EAAE,IAAIC,KAAK,CAACT,GAAG;MAAE,CAAC,CAAC;MACvD;IACF;EACF;EACA,OAAOZ,KAAK;AACd,CAAC","ignoreList":[]}]}